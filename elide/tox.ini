# content of: tox.ini , put in same dir as setup.py
[tox]
envlist = py312,py313,py314

[testenv]
# install pytest in the virtualenv where commands will be executed
passenv = DISPLAY
recreate = true
wheel_build_env = elide-wheel-build-env
deps =
    /wheels/*-py3-none-any.whl
    py312: /wheels/*-cp312-cp312-linux_x86_64.whl
    py313: /wheels/*-cp313-cp313-linux_x86_64.whl
    py314: /wheels/*-cp314-cp314-linux_x86_64.whl
	pytest
    ../lisien/
commands =
    python -m pytest -vv --pyargs elide.tests

[pytest]
tmp_path_retention_policy = failed
